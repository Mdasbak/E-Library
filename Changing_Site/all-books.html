
<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>All Books</title>
  <!--=============== FAVICON ===============-->
      <link rel="shortcut icon" href="assets/img/favicon.png" type="image/x-icon">


      <!--=============== Bootstrap ===============-->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

      <!--=============== REMIXICONS ===============-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.5.0/remixicon.css">

      <!--=============== SWIPER CSS ===============-->
      <link rel="stylesheet" href="CSS\swiper-bundle.min.css">
  <link rel="stylesheet" href="CSS\styles.css">
  
  <link rel="stylesheet" href="CSS\all-books.css">
  <style>
    .footer {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 1s ease, transform 1s ease;
}

.footer.animate-footer {
  opacity: 1;
  transform: translateY(0);
}

@keyframes fadeInFooter {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/*========== Social Hover Glow ==========*/
.footer__social-link {
  font-size: 1.5rem;
  color: var(--first-color);
  transition: transform 0.3s, color 0.3s, box-shadow 0.3s;
}

@keyframes glowPop {
  0% {
    transform: scale(1);
    box-shadow: none;
  }
  50% {
    transform: scale(1.25);
    box-shadow: 0 0 10px rgba(108, 99, 255, 0.6);
  }
  100% {
    transform: scale(1);
    box-shadow: none;
  }
}

.footer__social-link:hover i {
  animation: glowPop 0.6s ease-in-out;
  color: #6C63FF;
}


/*========== Newsletter Form ==========*/
.footer__form {
  display: flex;
  gap: 0.5rem;
  margin-top: 0.5rem;
  flex-wrap: wrap;
}

.footer__input {
  flex: 1;
  padding: 0.6rem 1rem;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  background-color: var(--container-color);
  color: var(--text-color);
  transition: 0.3s;
  min-width: 200px;
}

.footer__submit {
  background-color: var(--first-color);
  color: white;
  font-weight: 600;
  border-radius: 8px;
  padding: 0.6rem 1.2rem;
  transition: background-color 0.3s ease;
  cursor: pointer;
}

.footer__submit:hover {
  background-color: #4F46E5;
}

/*========== Footer Wave SVG ==========*/
.footer__wave {
  position: relative;
  top: 0;
  width: 100%;
  overflow: hidden;
  line-height: 0;
  margin-bottom: -1px;
}

.footer__wave-svg {
  display: block;
  width: 100%;
  height: 80px;
  transform: rotate(180deg);
}

    .cursor-trail {
  position: fixed;
  pointer-events: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(114,137,218,0.3) 0%, rgba(0,0,0,0) 60%);
  mix-blend-mode: screen;
  z-index: 9999;
  transform: translate(-50%, -50%);
}
    @media screen and (min-width: 576px) {
      /* Hide search by default */
.search {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: white;
  padding: 1rem;
  z-index: 1000;
  display: none;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

/* Show it when toggled */
.search.show-search {
  display: block;
}

/* Responsive tweaks */
.search__form {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 0.5rem;
}

.search__input {
  flex: 1;
  padding: 0.5rem;
  font-size: 1rem;
}

.search__close {
  font-size: 1.2rem;
  cursor: pointer;
}
    }

    #theme-button {
  transition: transform 0.3s;
}
#theme-button:hover {
  transform: rotate(180deg);
}
  </style>
</head>
<body>



<!--==================== HEADER ====================-->
      <header class="header" id="header">
         <nav class="nav container">
         
            <a href="#" class="nav__logo">
            <i class="ri-book-3-line"></i> E-Book</a>
            <div class="search" id="search-content">
  <form action="" class="search__form">
    <i class="ri-search-line search__icon"></i>

    <input
      type="search"
      placeholder="Search by title or author..."
      class="search__input"
      id="searchInput"
    />

    <select id="authorFilter" class="search__input">
      <option value="">Filter by author</option>
    </select>

    <i class="ri-close-line search__close" id="search-close"></i>
  </form>
</div>

         <div class="nav__actions">
         <i class="ri-search-line search-button" id="search-button"></i>
         <i class="ri-moon-line change-theme" id="theme-button"></i>
         <i class="ri-admin-line" id="admin-login-btn" title="Admin Login"></i>
         <i class="ri-upload-cloud-2-line" id="upload-toggle" title="Upload Book" style="display: none;"></i>
         </div>
          
          </nav>
      </header>

      <!--==================== UPLOAD====================-->
               
               <div class="upload__modal" id="upload-modal" style="display: none;">
               <form id="uploadForm" class="upload__form">
                  <h2 class="upload__title">Upload New Book</h2>
                  <input type="text" id="bookTitle" placeholder="Book Title" required class="join__input">
                  <input type="text" id="bookImage" placeholder="Image URL" required class="join__input">
                  <input type="text" id="bookPDF" placeholder="PDF/Drive Link" required class="join__input">
                  <input type="text" id="bookAuthor" placeholder="Author Name" class="join__input">

                  <div class="upload__buttons">
                     <button type="submit" class="button">Upload</button>
                     <button type="button" class="button upload__close" id="upload-close">Cancel</button>
                  </div>
               </form>
               <script>
                  document.addEventListener("DOMContentLoaded", () => {
               const uploadToggle = document.getElementById("upload-toggle");
               const uploadModal = document.getElementById("upload-modal");
               const uploadClose = document.getElementById("upload-close");

               uploadToggle?.addEventListener("click", () => {
                  uploadModal.style.display = "flex";
               });

  uploadClose?.addEventListener("click", () => {
    uploadModal.style.display = "none";
  });
});

               </script>
               </div>


 

      <!--==================== LOGIN ====================-->
      <div class="login grid" id="login-content">
         <form action="" class="login__form grid">
            <h3 class="login__tittle">Log In</h3>
            <div class="login__group grid">
               <div>
                  <label for="login-email" class="login__label">Email</label>
                  <input type="email" class="login__input" placeholder="Write your Email" id="login-email">
               </div>
               <div>
                  <label for="login__pass" class="login__label">Password</label>
                  <input type="Password" class="login__input" placeholder="Enter Your Password" id="login__pass">
               </div>
            </div>

            <div>
               <span class="login__signup">
                  You do not have an account? <a href="#">Sign up</a>
               </span>
               <a href="#" class="login__forgot">
                  Forgot password
               </a>

               <button type="submit" class="login__button button">
                  Log In
               </button>
            </div>
         </form>

         <i class="ri-close-line login__close" id="login-close"></i>
      </div>

      <!--==================== MAIN ====================-->
      <main class="main">
         <!--==================== NEW BOOKS UPDATED ====================-->
          <div id="allBooksContainer"></div>
      </main>

      <!--==================== FOOTER ====================-->
      <div class="footer__wave">
  <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="footer__wave-svg">
    <path d="M0,0V46.29c47.09,22.1,104.42,29.05,158,17.45C267.06,42.88,347.18-2.29,428,1.16s168.56,61.69,250,67.19C779.72,74.66,861,49.71,942,34.78S1102.63,13.57,1200,33.78V0Z" fill="var(--container-color)"></path>
  </svg>
</div>

<!--========== FOOTER ==========-->
<footer class="footer">
  <div class="footer__container container grid">
    <div class="footer__data grid">

      <!-- About -->
      <div>
        <h3 class="footer__title">About</h3>
        <ul class="footer__links">
          <li><a href="#" class="footer__link">Awards</a></li>
          <li><a href="#" class="footer__link">FAQs</a></li>
          <li><a href="#" class="footer__link">Privacy Policy</a></li>
          <li><a href="#" class="footer__link">Terms of Service</a></li>
        </ul>
      </div>

      <!-- Company -->
      <div>
        <h3 class="footer__title">Company</h3>
        <ul class="footer__links">
          <li><a href="#" class="footer__link">Blogs</a></li>
          <li><a href="#" class="footer__link">Community</a></li>
          <li><a href="#" class="footer__link">Our Team</a></li>
          <li><a href="#" class="footer__link">Help Center</a></li>
        </ul>
      </div>

      <!-- Contact -->
      <div>
        <h3 class="footer__title">Contact</h3>
        <ul class="footer__links">
          <li>
            <address class="footer__info">Not mention<br>1234-567-890</address>
          </li>
          <li>
            <address class="footer__info">mdasbak##@email.com<br>1234-567-890</address>
          </li>
        </ul>
      </div>

      <!-- Newsletter -->
      <div>
        <h3 class="footer__title">Newsletter</h3>
        <form class="footer__form" id="footerNewsletterForm">
  <input type="email" class="footer__input" placeholder="Your Email" required>
  <button class="footer__submit" type="submit">Send</button>
</form>

      </div>

      <!-- Social -->
      <div>
        <h3 class="footer__title">Social</h3>
        <ul class="footer__links">
          <li>
            <div class="footer__social">
              <a href="https://facebook.com/" target="_blank" class="footer__social-link">
                <i class="ri-facebook-circle-line"></i>
              </a>
              <a href="https://instagram.com/" target="_blank" class="footer__social-link">
                <i class="ri-instagram-line"></i>
              </a>
              <a href="https://twitter.com/" target="_blank" class="footer__social-link">
                <i class="ri-twitter-x-line"></i>
              </a>
            </div>
          </li>
        </ul>
      </div>

    </div>
  </div>

  <span class="footer__copy">&#169; All Rights Reserved</span>
</footer>
      <!--========== SCROLL UP ==========-->
      <!-- Back to Top Button -->
        <button  class="scroll-button" id="scroll-up" onclick="scrollToTop()" title="Back to Top">
          <svg class="svgIcon" viewBox="0 0 384 512">
            <path d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/>
          </svg>
          
        </button>
        <script>
          window.addEventListener("scroll", () => {
          const btn = document.getElementById("scroll-up"); // or use: document.querySelector(".scroll-button");
          if (window.scrollY > 300) {
            btn.style.display = "flex";
          } else {
            btn.style.display = "none";
          }
        });

        </script>

      <!--=============== SCROLLREVEAL ===============-->
      <script src="JS\scrollreveal.min.js"></script>

      <!--=============== SWIPER JS ===============-->
      <script src="JS\swiper-bundle.min.js"></script>

<!--=============== JS ===============-->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

// âœ… Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyA8-GxDfYm1jb7hf5U2dxT6ZmS1FoZlTi8",
        authDomain: "ebook-site-b964b.firebaseapp.com",
        projectId: "ebook-site-b964b",
        storageBucket: "ebook-site-b964b.appspot.com",
        messagingSenderId: "975190980531",
        appId: "1:975190980531:web:ecc255a4941947bdf1de9a",
};

// ðŸ”¥ Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const booksCollection = collection(db, "books");

let isAdmin = false;
let allBooks = [];

// ðŸ” Fetch & Render Books
async function fetchBooks() {
  const snapshot = await getDocs(booksCollection);
  allBooks = [];
  snapshot.forEach(docSnap => allBooks.push({ id: docSnap.id, ...docSnap.data() }));
  updateAuthorOptions();
  renderBooks(allBooks);
}

function renderBooks(filteredBooks) {
  const container = document.getElementById("allBooksContainer");
  container.innerHTML = "";

  if (!filteredBooks.length) {
    container.innerHTML = "<p>No books found.</p>";
    return;
  }

  filteredBooks.forEach(book => {
    const card = document.createElement("div");
    card.className = "book";
    card.innerHTML = `
      <div class="cover">
        <img src="${book.image}" alt="${book.title}" class="book-img" />
      </div>
      <div class="back">
        <h3 class="book-title">${book.title}</h3>
        <p class="book-author">by ${book.author || "Unknown"}</p>
        <a href="${book.pdf}" target="_blank" class="read-btn bounce-inside">Read Now</a>
        ${isAdmin ? `<button class="delete-btn" data-id="${book.id}">Delete</button>` : ""}
      </div>
    `;
    container.appendChild(card);
  });
}

function updateAuthorOptions() {
  const authorFilter = document.getElementById("authorFilter");
  authorFilter.innerHTML = '<option value="">All Authors</option>';
  const authors = [...new Set(allBooks.map(b => b.author || 'Unknown'))];
  authors.sort().forEach(author => {
    const option = document.createElement("option");
    option.value = author;
    option.textContent = author;
    authorFilter.appendChild(option);
  });
}

function filterBooks() {
  const searchInput = document.getElementById("searchInput").value.toLowerCase();
  const selectedAuthor = document.getElementById("authorFilter").value;

  const filtered = allBooks.filter(book => {
    const matchesTitle = book.title.toLowerCase().includes(searchInput);
    const matchesAuthorText = (book.author || '').toLowerCase().includes(searchInput);
    const matchesAuthorFilter = selectedAuthor === '' || book.author === selectedAuthor;
    return (matchesTitle || matchesAuthorText) && matchesAuthorFilter;
  });

  renderBooks(filtered);
}

// ðŸ” Admin Login
document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("admin-login-btn")?.addEventListener("click", () => {
    const pwd = prompt("Enter admin password:");
    if (pwd === "123") {
      alert("âœ… Admin access granted!");
      isAdmin = true;
      document.getElementById("upload-toggle").style.display = "inline";
      renderBooks(allBooks);
    } else {
      alert("âŒ Incorrect password.");
    }
  });
});

// ðŸ—‘ Delete Book
document.addEventListener("click", async (e) => {
  if (e.target.classList.contains("delete-btn")) {
    const id = e.target.dataset.id;
    if (confirm("Are you sure you want to delete this book?")) {
      await deleteDoc(doc(db, "books", id));
      showFormToast("ðŸ—‘ Book deleted.");
      fetchBooks();
    }
  }
});

// ðŸ” Filters
document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("searchInput")?.addEventListener("input", filterBooks);
  document.getElementById("authorFilter")?.addEventListener("change", filterBooks);
  fetchBooks();
});
</script>
<script src="JS/main.js"></script>
</body>
</html>
